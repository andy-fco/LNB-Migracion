{% extends "base.html" %} {% block content %}

<h1 class="text-3xl font-bold mb-6 text-center">Elegir jugador favorito</h1>

<div class="mb-6">
  <input
    id="buscador"
    placeholder="Buscar jugador..."
    class="w-full p-3 rounded-lg border shadow"
    onkeyup="filtrar()"
  />
</div>

<div id="lista" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for jugador in jugadores %}
  <a
    href="{{ url_for('guardar_jugador', id=jugador.id) }}"
    class="bg-secundario rounded-xl shadow hover:shadow-lg transition p-4 flex items-center gap-4 grupo elemento hover:bg-gray-800 hover:scale-[1.02] transition shadow"
  >
    <img
      src="{{ url_for('static', filename='img/jugadores/' ~ (jugador.foto_carnet or 'placeholder.png')) }}"
      class="w-20 h-20 object-cover rounded-xl"
    />

    <div>
      <h2 class="text-xl font-semibold">
        {{ jugador.nombre }} {{ jugador.apellido }}
      </h2>
      <p class="text-gray-600">{{ jugador.posicion }}</p>
      {% if jugador.equipo_rel %}
      <p class="text-gray-400 text-sm">{{ jugador.equipo_rel.nombre }}</p>
      {% endif %}
    </div>
  </a>
  {% endfor %}
</div>

<script>
  function filtrar() {
    const texto = document.getElementById("buscador").value.toLowerCase();
    const elementos = document.getElementsByClassName("elemento");

    for (let el of elementos) {
      const contenido = el.innerText.toLowerCase();
      el.style.display = contenido.includes(texto) ? "flex" : "none";
    }
  }
</script>

{% endblock %}
